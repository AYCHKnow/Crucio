<h4>Deine Markierungen</h4>

<div ng-if="!$ctrl.tags.length" class="container-center-align-sm mbottom-2x">
    <i class="fa fa-tags"></i>

    <hr>
    <h3>Du hast noch keine Markierungen erstellt.</h3>
    <h5>Wenn die eine Frage beantwortest, siehst du rechts unter dem Info-Feld eine Eingabe.<br>
        Gebe dort die Markierung ein und dr&uuml;cke Enter.</h5>
</div>

<div ng-if="$ctrl.tags.length">
    <div class="flex-container" style="justify-content: space-between;">
        <dropdown class="btn-group" data="$ctrl.distinctTags" selected="$ctrl.selectedTag" placeholder="Alle Markierungen" show-key="tag"></dropdown>

        <div style="margin-top: 2px;">
            <div class="btn-group" uib-dropdown>
                <button type="button" ng-disabled="$ctrl.selectedQuestionNumber == 0" class="btn btn-success" ng-click="$ctrl.learnTags('question')"><i class="fa fa-fw fa-graduation-cap"></i> Lernen</button>
                <button type="button" ng-disabled="$ctrl.selectedQuestionNumber == 0" class="btn btn-success" uib-dropdown-toggle>
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" uib-dropdown-menu role="menu">
                    <li role="menuitem"><a href ng-click="$ctrl.learnTags('exam')">Klausuransicht</a></li>
                    <li role="menuitem"><a href ng-click="$ctrl.learnTags('pdf')">PDF Fragen</a></li>
                    <li role="menuitem"><a href ng-click="$ctrl.learnTags('pdf-solution')">PDF L&ouml;sungen</a></li>
                </ul>
            </div>
        </div>
    </div>

    <table class="table table-hover">
        <thead>
            <th><i class="fa fa-fw fa-tag"></i> Markierung</th>
            <th><i class="fa fa-fw fa-flask"></i> Fach</th>
            <th>Frage</th>
            <th></th>
        </thead>

        <tbody ng-repeat="(tag, tag_array) in $ctrl.questionsByTag" ng-show="tag == $ctrl.selectedTag.tag ||Â $ctrl.selectedTag == undefined">
            <tr ng-repeat="q in tag_array">
                <td rowspan="{{ tag_array.length }}" style="min-width:140px;" ng-if="$first">
                    <span class="tags tag-item pull-left">
                        {{ tag }}
                    </span>
                </td>
                <td>{{ q.subject }}</td>
                <td><span ng-bind-html="q.question"></span></td>
                <td><a ui-sref="question({ questionId: q.question_id, resetSession: 1 })"><i class="fa fa-chevron-right"></i></a></td>
            </tr>
        </tbody>
    </table>
</div>
