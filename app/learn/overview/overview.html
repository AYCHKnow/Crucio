<h4>&Uuml;bersicht deiner Sammlungen</h4>

<div ng-if="!$ctrl.collections.length && $ctrl.ready" class="container-center-align-sm mbottom-2x">
    <i class="fa fa-inbox"></i>

    <hr>

    <h3>Du hast noch keine Sammlungen gespeichert.</h3>
    <h5>Wenn du eine Klausur oder eine andere Sammlung an Fragen lernst, kannst du sie speichern und dann sp&auml;ter weiterlernen. <br> Alle gespeicherten Sammlungen werden hier angezeigt.</h5>
</div>

<div ng-if="$ctrl.collections.length && $ctrl.ready" class="mtop-2x">
    <div class="row">
        <div class=" col-sm-4" ng-repeat="collection in $ctrl.collections">
            <div class="panel panel-default">
                <div class="panel-heading" style="background-color: #f5f5f5; height: 52px;">
                    <h3 class="panel-title" style="font-size: 18px;">
                        <span ng-if="collection.type == 'exam'"><i class="fa fa-list fa-fw"></i> {{ collection.exam.subject }}</span>
                        <span ng-if="collection.type == 'subjects'"><i class="fa fa-flask fa-fw"></i>  {{ collection.main_subject }}</span>
                        <span ng-if="collection.type == 'query'"><i class="fa fa-search fa-fw"></i>  {{ collection.questionSearch.query }}</span>
                        <span ng-if="collection.type == 'tags'"><i class="fa fa-tag fa-fw"></i>  {{ collection.tag }}</span>
                    </h3>
                </div>
                <div class="panel-body" style="background-color: #f5f5f5; text-align: center; height: 38px; padding: 10px;">
                    <div ng-if="collection.type == 'exam'">
                        {{ collection.exam.semester }}. Semester <i class="fa fa-calendar fa-fw"></i> {{ collection.exam.date }}
                    </div>
                    <div ng-if="collection.type == 'query'">
                        <span ng-if="collection.questionSearch.semester">{{ collection.questionSearch.semester }}. Semester</span>
                        <span ng-if="collection.questionSearch.subject"><i class="fa fa-flask fa-fw"></i> {{ collection.questionSearch.subject }}</span>
                    </div>
                </div>
                <div class="panel-footer" style="background-color: #f5f5f5;">
                    <div class="btn-group">
                        {{ $ctrl.getWorkedList(collection.list).length }} / {{ collection.list.length }} Fragen
                    </div>

                    <div class="btn-group pull-right" uib-dropdown>
                        <button type="button" class="btn btn-success btn-xs" ng-click="$ctrl.learnCollection('question', $index)"><i class="fa fa-fw fa-graduation-cap"></i> Lernen</button>
                        <button type="button" class="btn btn-success btn-xs" uib-dropdown-toggle>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" uib-dropdown-menu role="menu">
                            <li role="menuitem"><a href ng-click="$ctrl.learnCollection('exam', $index)">Klausuransicht</a></li>
                            <li role="menuitem"><a href ng-click="$ctrl.learnCollection('pdf', $index)">PDF Fragen</a></li>
                            <li role="menuitem"><a href ng-click="$ctrl.learnCollection('pdf-solution', $index)">PDF L&ouml;sungen</a></li>

                            <li class="divider"></li>

                            <li role="menuitem">
                                <a href ng-click="$ctrl.removeCollection($index)">Sammlung l&ouml;schen</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
